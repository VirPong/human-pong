<!DOCTYPE HTML>
<html>
<head>
<title>PhoneGap</title>
<script type="text/javascript" charset="utf-8" src="phonegap-1.0.0.js"></script>
<script type="text/javascript" charset="utf-8" src="bluetooth.js"></script>


<script type="text/javascript" charset="utf-8">


function onBodyLoad()
{
    document.addEventListener("deviceready",onDeviceReady,false);
}



function onDeviceReady()
{


 //------------------------------------------------------ listDevices example ------------------------------------------------------
    
    var btnListDevices = document.getElementById("list-devices");
    btnListDevices.onclick = function() {
window.plugins.bluetooth.listDevices(null,
function(r){printResult(r)},
function(e){log(e)}
);
}
 

//------------------------------------------------------ isBTEnabled example ------------------------------------------------------

    var btnIsBTEnabled = document.getElementById("isBTEnabled");
    btnIsBTEnabled.onclick = function() {

window.plugins.bluetooth.isBTEnabled(null,
function(r){printResult2(r)},
function(e){log(e)}
);
}



 
//------------------------------------------------------ enableBT example ------------------------------------------------------

var btnEnableBT = document.getElementById("enableBT");
btnEnableBT.onclick = function() {

window.plugins.bluetooth.enableBT(null,
function(r){printResult3(r)},
function(e){log(e)}
);
}



//------------------------------------------------------ disableBT example ------------------------------------------------------

var btnDisableBT = document.getElementById("disableBT");
btnDisableBT.onclick = function() {

window.plugins.bluetooth.disableBT(null,
function(r){printResult4(r)},
function(e){log(e)}
);
}




//------------------------------------------------------ pairBT example ------------------------------------------------------
 
var btnPairBT = document.getElementById("pairBT");
btnPairBT.onclick = function() {

window.plugins.bluetooth.pairBT("6C:9B:02:44:FA:BF",
function(r){printResult5(r)},
function(e){log(e)}
);
}





//------------------------------------------------------ unPairBT example ------------------------------------------------------

var btnUnPairBT = document.getElementById("unPairBT");
btnUnPairBT.onclick = function() {

window.plugins.bluetooth.unPairBT("6C:9B:02:44:FA:BF",
function(r){printResult6(r)},
function(e){log(e)}
);
}





//------------------------------------------------------ listBoundDevices example ------------------------------------------------------

       var btnListBoundDevices = document.getElementById("list-bound-devices");
       btnListBoundDevices.onclick = function() {

window.plugins.bluetooth.listBoundDevices(null,
function(r){printResult7(r)},
function(e){log(e)}
);
}




//------------------------------------------------------ stopDiscovering example ------------------------------------------------------

var btnStopDiscovering = document.getElementById("stopDiscovering");
btnStopDiscovering.onclick = function() {

window.plugins.bluetooth.stopDiscovering(null,
function(r){printResult8(r)},
function(e){log(e)}
);
}




//------------------------------------------------------ isBound example ------------------------------------------------------

var btnIsBound = document.getElementById("isBound");
btnIsBound.onclick = function() {

window.plugins.bluetooth.isBound("6C:9B:02:44:FA:BF",
function(r){printResult9(r)},
function(e){log(e)}
);
}
}


function printResult(resultadoString){
var htmlText ="";
var i=0;

var resultado = eval(resultadoString);

for(i=0;i<resultado.length;i++)
{
htmlText=htmlText+"<ul><li>Name Device: "+resultado[i].name+"</li></ul>";
htmlText=htmlText+"<ul><li>Address Device: "+resultado[i].address+"</li></ul>";
}
   document.getElementById("result").innerHTML=htmlText;
}



function printResult2(resultado){

var htmlText="<ul><li>is Bluetooth Enabled?: "+resultado+"</li></ul>";
   document.getElementById("result").innerHTML=htmlText;
}



function printResult3(resultado){

var htmlText="<ul><li>Bluetooth Enabled?: "+resultado+"</li></ul>";
   document.getElementById("result").innerHTML=htmlText;
}




function printResult4(resultado){

var htmlText="<ul><li>Bluetooth Disabled?: "+resultado+"</li></ul>";
   document.getElementById("result").innerHTML=htmlText;
}



function printResult5(resultado){

var htmlText="<ul><li>Pairing with Bluetooth Device: "+resultado+"</li></ul>";
   document.getElementById("result").innerHTML=htmlText;
}



function printResult6(resultado){

var htmlText="<ul><li>unPairing Bluetooth Device: "+resultado+"</li></ul>";
   document.getElementById("result").innerHTML=htmlText;
}



function printResult7(resultadoString){
var htmlText ="";
var i=0;

var resultado = eval(resultadoString);

for(i=0;i<resultado.length;i++)
{
htmlText=htmlText+"<ul><li>Name Device: "+resultado[i].name+"</li></ul>";
htmlText=htmlText+"<ul><li>Address Device: "+resultado[i].address+"</li></ul>";
}
   document.getElementById("result").innerHTML=htmlText;
}



function printResult8(resultado){

var htmlText="<ul><li>Stopping Discovering Bluetooth Devices: "+resultado+"</li></ul>";
   document.getElementById("result").innerHTML=htmlText;
}



function printResult9(resultado){

var htmlText="<ul><li>is Device bound with mobile address 6C:9B:02:44:FA:BF?: "+resultado+"</li></ul>";
   document.getElementById("result").innerHTML=htmlText;
}

</script>
</head>


<body onload="onBodyLoad()">
    <input id="isBTEnabled" type="button" value="Is Bluetooth Enabled?" />
    <input id="enableBT" type="button" value="Enable Bluetooth" />
    <input id="disableBT" type="button" value="Disable Bluetooth" />
    <input id="list-devices" type="button" value="List Bluetooth Devices" />
    <input id="list-bound-devices" type="button" value="List Bluetooth Bound Devices" />
    <input id="pairBT" type="button" value="Pair Device" />
    <input id="unPairBT" type="button" value="Unpair Device" />
    <input id="stopDiscovering" type="button" value="Stop Discovering" />
    <input id="isBound" type="button" value="Is Device bound with mobile" />
    
    <hr>
    
    <div id="result"></div>
    
    <hr>

    
</body>
</html>